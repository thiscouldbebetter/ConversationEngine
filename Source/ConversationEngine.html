<html>
<body>

<h3>Conversation Engine</h3>
<p>
	Enter a conversation definition in the box (one is supplied by default)
	and click the Parse Conversation button to start it.
</p>

<div id="divConversation">
	
	<label>Conversation Defn as JSON:</label><br />
	<textarea id="textareaConversationDefnAsJSON" cols="80" rows="20">
{
    "name": "AnEveningWithProfessorSurly",
    "talkNodes": [
        {
            "name": "Greet",
            "defnName": "Display",
            "parameters": "Hi, I'm Professor Surly."
        },
        {
            "name": "Subject",
            "defnName": "Display",
            "parameters": "What do you want to talk about?"
        },
        {
            "defnName": "Option",
            "parameters": [
                "Math",
                "Let's talk about math."
            ]
        },
        {
            "defnName": "Option",
            "parameters": [
                "Science",
                "Let's talk about science."
            ]
        },
        {
            "name": "Subject.History",
            "defnName": "Option",
            "parameters": [
                "History",
                "Let's talk about history."
            ]
        },
        {
            "name": "Subject.Carol",
            "defnName": "Option",
            "parameters": [
                "TalkOver",
                "We NEED to talk about Carol."
            ],
            "isActive": false
        },
        {
            "defnName": "Option",
            "parameters": [
                "SQLInjection",
                "'; drop database conversation_topics;"
            ]
        },
        {
            "defnName": "Option",
            "parameters": [
                "Quit",
                "Never mind. I hate you."
            ]
        },
        {
            "name": "SubjectPrompt",
            "defnName": "Prompt"
        },
        {
            "name": "History",
            "defnName": "Push"
        },
        {
            "name": "_4",
            "defnName": "Display",
            "parameters": "Okay, but the past is pretty pointless."
        },
        {
            "name": "_5",
            "defnName": "Display",
            "parameters": "What kind of history interests you?"
        },
        {
            "name": "_6",
            "defnName": "Option",
            "parameters": [
                "History.Ancient",
                "Tell me about ancient times."
            ]
        },
        {
            "defnName": "Option",
            "parameters": [
                "History.Recent",
                "Tell me about recent events."
            ]
        },
        {
            "defnName": "Option",
            "parameters": [
                "History.Carol",
                "I think we should talk about Carol."
            ]
        },
        {
            "defnName": "Option",
            "parameters": [
                "History.NeverMind",
                "Never mind."
            ]
        },
        {
            "defnName": "Prompt"
        },
        {
            "name": "History.Ancient",
            "defnName": "Display",
            "parameters": "That all happened a long time ago."
        },
        {
            "defnName": "Prompt"
        },
        {
            "name": "History.Recent",
            "defnName": "Display",
            "parameters": "If it's recent, is it really history?"
        },
        {
            "defnName": "Prompt"
        },
        {
            "name": "History.Carol",
            "defnName": "Display",
            "parameters": "We are NEVER talking about Carol."
        },
        {
            "defnName": "Display",
            "parameters": "I don't want to talk about history anymore."
        },
        {
            "defnName": "Activate",
            "parameters": [
                "Subject.History",
                false
            ]
        },
        {
            "defnName": "Activate",
            "parameters": [
                "Subject.Carol",
                true
            ]
        },
        {
            "defnName": "Pop",
            "parameters": "Subject"
        },
        {
            "name": "History.NeverMind",
            "defnName": "Display",
            "parameters": "Fine, you're the one who brought it up."
        },
        {
            "defnName": "Pop",
            "parameters": "Subject"
        },
        {
            "name": "Math",
            "defnName": "Display",
            "parameters": "Math is too complicated..."
        },
        {
            "defnName": "Display",
            "parameters": "...what with all those numbers."
        },
        {
            "defnName": "Goto",
            "parameters": "SubjectPrompt"
        },
        {
            "name": "Science",
            "defnName": "Display",
            "parameters": "Science is way too broad a subject."
        },
        {
            "defnName": "Display",
            "parameters": "I mean, what ISN'T science, really?"
        },
        {
            "defnName": "Goto",
            "parameters": "SubjectPrompt"
        },
        {
            "name": "SQLInjection",
            "defnName": "Display",
            "parameters": "What are you--what's happening to me?"
        },
        {
            "defnName": "Script",
            "parameters": "function panic() { alert(\"ER-ROR!  ER-ROR!  DOES! NOT! COMPUTE!\"); }"
        },
        {
            "defnName": "Goto",
            "parameters": "Greet"
        },
        {
            "name": "Quit",
            "defnName": "Display",
            "parameters": "Same to you, buddy."
        },
        {
            "name": "TalkOver",
            "defnName": "Display",
            "parameters": "[This conversation is over.]"
        },
        {
            "defnName": "Quit"
        }
    ]
}
	</textarea><br />
	<button onclick="buttonConversationParse_Clicked();">Parse Conversation</button><br />

	<br />

	<label>Speaker:</label><br />
	<input id="inputStatement" style="width:256px"></input><br />
	<label>Responses:</label><br />
	<select id="selectResponses" size="8" style="width:256px"></select><br />
	<button id="buttonNext">Next</button><br />

</div>
	
<script type="text/javascript" src="buttonConversationParse_Clicked.js"></script>
<script type="text/javascript" src="ArrayExtensions.js"></script>
<script type="text/javascript" src="ConversationDefn.js"></script>
<script type="text/javascript" src="ConversationRun.js"></script>
<script type="text/javascript" src="ConversationScope.js"></script>
<script type="text/javascript" src="TalkNode.js"></script>
<script type="text/javascript" src="TalkNodeDefn.js"></script>

</body>
</html>
